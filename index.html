<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Akshay Choudhary | AI-Powered Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-light: #f0f9ff; /* Light Sky Blue */
            --text-light: #1f2937; /* Darker Gray */
            --text-muted-light: #4b5563; /* Muted Gray */
            --card-bg-light: rgba(255, 255, 255, 0.7);
            --border-light: #d1d5db;
            --spotlight-light: rgba(59, 130, 246, 0.1);

            --bg-dark: #1f2937; /* Dark Slate */
            --text-dark: #f9fafb;
            --text-muted-dark: #9ca3af;
            --card-bg-dark: rgba(31, 41, 55, 0.7);
            --border-dark: #4b5563;
            --spotlight-dark: rgba(59, 130, 246, 0.15);
        }
        html.dark {
            --bg-light: var(--bg-dark);
            --text-light: var(--text-dark);
            --text-muted-light: var(--text-muted-dark);
            --card-bg-light: var(--card-bg-dark);
            --border-light: var(--border-dark);
            --spotlight-light: var(--spotlight-dark);
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-light);
            color: var(--text-light);
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        #spotlight {
            position: fixed;
            left: 0;
            top: 0;
            width: 500px;
            height: 500px;
            border-radius: 50%;
            pointer-events: none;
            z-index: 0;
            background: radial-gradient(circle, var(--spotlight-light) 0%, rgba(59, 130, 246, 0) 70%);
            transition: transform 0.1s ease-out;
        }
        .section {
            opacity: 0;
            transform: translateY(40px);
            transition: opacity 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
        .stagger-animation {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        .section-title {
            @apply text-4xl font-extrabold mb-2;
            color: var(--text-light);
        }
        .section-subtitle {
            @apply text-lg mb-8 max-w-2xl mx-auto;
            color: var(--text-muted-light);
        }
        .nav-link {
            @apply px-1 py-2 text-sm font-semibold transition-colors duration-300 relative;
            color: var(--text-muted-light);
        }
        .nav-link:hover {
            color: var(--text-light);
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 100%;
            transform: scaleX(0);
            height: 2px;
            bottom: 0;
            left: 0;
            background-color: #3b82f6;
            transform-origin: bottom right;
            transition: transform 0.25s ease-out;
        }
        .nav-link:hover::after {
            transform: scaleX(1);
            transform-origin: bottom left;
        }
        .modal-overlay {
            @apply fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 transition-opacity duration-300;
        }
        .modal-content {
            background-color: var(--card-bg-light);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            @apply rounded-lg shadow-2xl p-6 md:p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95;
        }
        .card {
            background-color: var(--card-bg-light);
            border: 1px solid var(--border-light);
            transition: transform 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .glass-card {
            background-color: var(--card-bg-light);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--border-light);
        }
        .card::before {
            content: '';
            position: absolute;
            top: var(--glow-y);
            left: var(--glow-x);
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(59, 130, 246, 0.2) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .card:hover {
            transform: translateY(-5px);
        }
        .card:hover::before {
            opacity: 1;
        }
        .timeline-dot {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .timeline-item:hover .timeline-dot {
            transform: scale(1.25);
            box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.2);
        }
        .spinner {
            border: 2px solid rgba(255,255,255,0.3); 
            border-top: 2px solid #ffffff;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="antialiased">
    <div id="spotlight"></div>

    <header id="header" class="bg-white/70 dark:bg-gray-900/70 backdrop-blur-lg sticky top-0 z-40 border-b border-[--border-light]">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0">
                    <a href="#" class="text-xl font-bold text-gray-900 dark:text-white">Akshay Choudhary</a>
                </div>
                <div class="hidden md:flex items-center">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="#about" class="nav-link">About</a>
                        <a href="#skills" class="nav-link">Skills</a>
                        <a href="#experience" class="nav-link">Experience</a>
                        <a href="#projects" class="nav-link">Projects</a>
                        <a href="#education" class="nav-link">Education</a>
                        <a href="#contact" class="nav-link">Contact</a>
                    </div>
                    <button id="theme-toggle" class="ml-8 p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors">
                        <svg id="theme-icon-light" class="h-5 w-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                        <svg id="theme-icon-dark" class="h-5 w-5 hidden" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm-.707 7.072l.707-.707a1 1 0 10-1.414-1.414l-.707.707a1 1 0 001.414 1.414zM3 11a1 1 0 100-2H2a1 1 0 100 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
                    </button>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="theme-toggle-mobile" class="p-2 rounded-full text-gray-500 dark:text-gray-400"></button>
                    <button id="mobile-menu-button" class="ml-2 inline-flex items-center justify-center p-2 rounded-md text-gray-600 dark:text-gray-300"><svg class="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg></button>
                </div>
            </div>
        </nav>
        <div id="mobile-menu" class="md:hidden hidden"><div class="px-2 pt-2 pb-3 space-y-1 sm:px-3"><a href="#about" class="block nav-link text-base">About</a><a href="#skills" class="block nav-link text-base">Skills</a><a href="#experience" class="block nav-link text-base">Experience</a><a href="#projects" class="block nav-link text-base">Projects</a><a href="#education" class="block nav-link text-base">Education</a><a href="#contact" class="block nav-link text-base">Contact</a></div></div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-12 relative z-10">

        <section id="about" class="text-center py-20 section"><h1 class="text-4xl md:text-6xl font-extrabold text-gray-900 dark:text-white tracking-tight">Full-Stack & Blockchain Developer</h1><p class="mt-6 max-w-3xl mx-auto text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed">A results-oriented Computer Science student with proven skills in full-stack development, blockchain engineering, and financial market analysis. Seeking to leverage a unique blend of technical and financial expertise in a challenging software engineering role.</p><div class="mt-10 flex justify-center space-x-6"><a href="mailto:foraskhay.dev@gmail.com" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300" title="Email"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"/></svg></a><a href="https://github.com/stoody-dev" target="_blank" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.91 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg></a><a href="https://linkedin.com/in/akshay-chaudhary" target="_blank" class="text-gray-500 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-300" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" viewBox="0 0 24 24" fill="currentColor"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a></div></section>
        <section id="skills" class="text-center p-8 md:p-12 rounded-xl section glass-card"><h2 class="section-title">Technical Skills</h2><p class="section-subtitle">A visual overview of my technical capabilities. My expertise spans modern web technologies, robust backend systems, and decentralized blockchain platforms.</p><div class="chart-container"><canvas id="skillsChart"></canvas></div></section>
        <section id="experience" class="py-16 section"><div class="text-center"><h2 class="section-title">Professional Experience</h2><p class="section-subtitle">A timeline of my professional journey, highlighting key roles and responsibilities where I've applied and grown my skills.</p></div><div id="timeline-container" class="relative mt-12"></div></section>
        <section id="projects" class="py-16 section"><div class="text-center"><h2 class="section-title">Projects Showcase</h2><p class="section-subtitle">A selection of projects that demonstrate my ability to build practical solutions. Filter by technology or ask the AI assistant about a specific project.</p></div><div id="project-filters" class="flex justify-center flex-wrap gap-2 mb-8"></div><div id="projects-grid" class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3"></div></section>
        <section id="education" class="text-center py-16 section"><h2 class="section-title">Education & Certifications</h2><p class="section-subtitle">My academic background and the certifications I've earned to formalize my knowledge.</p><div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8 text-left"><div class="p-8 rounded-lg card"><h3 class="font-bold text-xl text-gray-900 dark:text-white">Vellore Institute of Technology</h3><p class="text-gray-600 dark:text-gray-300">Bachelor of Technology in Computer Science</p><p class="text-sm text-gray-500 dark:text-gray-400">Expected June 2025 | GPA: 8.5/10.0</p><p class="mt-4 text-gray-700 dark:text-gray-200"><strong>Relevant Coursework:</strong> Data Structures and Algorithms (C++), Operating Systems, Database Management Systems, Computer Networks, Parallel and Distributed Systems.</p></div><div class="p-8 rounded-lg card"><h3 class="font-bold text-xl text-gray-900 dark:text-white">Certifications</h3><ul id="certifications-list" class="mt-2 list-disc list-inside text-gray-700 dark:text-gray-200 space-y-2"></ul></div></div></section>
        
        <section id="contact" class="py-16 section">
            <div class="text-center"><h2 class="section-title">Get In Touch</h2><p class="section-subtitle">Have a question or want to work together? Fill out the form below or use the AI Assistant to draft a cover letter snippet.</p></div>
            <form id="contact-form" class="max-w-xl mx-auto mt-8 bg-[--card-bg-light] border border-[--border-light] p-8 rounded-lg shadow-2xl">
                <div id="form-message-container" class="mb-4"></div>
                <div class="grid grid-cols-1 gap-6">
                    <input type="text" id="contact-name" name="name" placeholder="Your Name" required class="p-3 rounded-md bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <input type="email" id="contact-email" name="email" placeholder="Your Email" required class="p-3 rounded-md bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <textarea id="contact-message" name="message" rows="4" placeholder="Your Message" required class="p-3 rounded-md bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button type="submit" class="w-full bg-blue-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-blue-700 transition-all duration-300 transform hover:scale-105">Send Message</button>
                        <button type="button" id="ai-cover-letter-btn" class="w-full flex items-center justify-center gap-2 bg-purple-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-purple-700 transition-all duration-300 transform hover:scale-105">
                            ✨ AI Cover Letter
                            <span id="ai-cover-letter-spinner" class="hidden spinner"></span>
                        </button>
                    </div>
                </div>
            </form>
        </section>

    </main>
    
    <div id="project-modal" class="modal-overlay hidden opacity-0"><div class="modal-content scale-95"></div></div>
    <footer class="text-center py-6 border-t border-[--border-light] mt-12"><p class="text-sm text-gray-500 dark:text-gray-400">Designed & Built by Akshay Choudhary</p></footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const skillsData = { labels: ['Backend', 'Frontend', 'Blockchain', 'Databases & Tools', 'Core CS'], datasets: [{ label: 'Proficiency', data: [85, 80, 90, 75, 85], backgroundColor: 'rgba(59, 130, 246, 0.6)', borderColor: 'rgba(59, 130, 246, 1)', borderWidth: 2, borderRadius: 4, hoverBackgroundColor: 'rgba(59, 130, 246, 0.8)' }] };
            const experienceData = [{ company: 'Drishti Shares & Investments Pvt. Ltd.', role: 'Capital Markets Intern', period: 'Apr 2024 – Mar 2025', location: 'New Delhi', details: ['Completed a comprehensive one-year internship focused on the operational mechanics of Indian financial markets.', 'Conducted an in-depth analysis of the functioning of the Capital Market and Equity Derivative segments of the National Stock Exchange (NSE).', 'Recognized for strong commitment and work ethic while gaining foundational knowledge in financial instruments and market structures.'] }, { company: 'Codebell Technologies Pvt. Ltd.', role: 'Backend Development Intern', period: 'Oct 2024 – Apr 2025', location: 'New Delhi', details: ['Contributed to the development and maintenance of core backend APIs for company products.', 'Supported the successful implementation of a QR-based video calling workflow, assisting with database integration and service logic.', 'Praised for professionalism and the ability to work effectively both independently and as a valuable member of the development team.'] }, { company: 'Popbaani', role: 'Frontend Developer', period: 'Aug 2022', location: 'Remote', details: ['Developed responsive, client-facing web application components using HTML, CSS, and JavaScript.', 'Partnered with UI/UX designers to translate mockups into functional, pixel-perfect code, enhancing the overall user experience.', 'Participated in an agile development workflow, conducting peer code reviews to maintain high code quality and ensure timely project delivery.'] }];
            const projectsData = [{ title: 'Soltaxer (Solana-Based Tax Reporting Tool)', short: 'A full-stack webapp to help Indian freelancers track Solana wallet income and generate tax-compliant reports.', details: ['<strong>Secured an Instagrant from the Superteam x Solana Foundation</strong> by developing and proposing a platform to simplify crypto tax compliance for Indian freelancers.', 'Engineered a full-stack application to track Solana wallet income, generate tax-compliant reports in INR, and mint tokenized income receipts as compressed NFTs.', 'Architected the front-end with wallet integrations (Phantom, Okto) and the back-end to process on-chain data, categorize transactions, and generate downloadable PDFs via jsPDF and CoinGecko API.'], link: null, tags: ['Solana', 'React', 'Node.js'] }, { title: 'Decentralized Voting System (Ethereum)', short: 'A secure and transparent online voting platform leveraging Ethereum blockchain technology.', details: ['Engineered a secure, decentralized voting platform on the Ethereum blockchain to guarantee tamper-proof records and prevent fraudulent activity.', 'Implemented core blockchain logic for remote, anonymous voting while maintaining transparency and verifiability of results.', 'Designed an intuitive user interface for voters and a comprehensive admin panel for election management.'], link: 'https://github.com/stoody-dev/Capstone-Proj-eth-evoting-system', tags: ['Ethereum', 'Solidity', 'JavaScript'] }, { title: 'Mora (Infinite NFT Generator)', short: 'A tool for dynamically creating NFT collections using user-defined image layers and Solidity.', details: ['Developed an NFT generator that dynamically creates NFTs using user-defined image layers, automating the collection creation process.', 'Integrated with blockchain smart contracts using Solidity for minting and ownership management on Ethereum-compatible chains.'], link: null, tags: ['Solidity', 'JavaScript', 'NFT'] }];
            const certificationsData = ['Cloud Computing (Silver Medalist) - NPTEL', 'The Bits and Bytes of Computer Networking - Google', 'Net Full Stack Foundation'];

            const skillsChartCtx = document.getElementById('skillsChart').getContext('2d');
            let skillsChart;
            function createChart(isDark) {
                if (skillsChart) { skillsChart.destroy(); }
                const gridColor = isDark ? '#374151' : '#e5e7eb';
                const tickColor = isDark ? '#9ca3af' : '#4b5563';
                const labelColor = isDark ? '#f3f4f6' : '#111827';
                skillsChart = new Chart(skillsChartCtx, { type: 'bar', data: skillsData, options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', animation: { duration: 1000, easing: 'easeOutQuart' }, plugins: { legend: { display: false }, tooltip: { backgroundColor: '#111827', titleFont: { size: 14, weight: 'bold' }, bodyFont: { size: 12 }, padding: 10, cornerRadius: 4, callbacks: { label: (ctx) => `${ctx.dataset.label || ''}: ${ctx.parsed.x || 0}%` } } }, scales: { x: { beginAtZero: true, max: 100, grid: { color: gridColor }, ticks: { color: tickColor, callback: (val) => val + "%" } }, y: { grid: { display: false }, ticks: { color: labelColor, font: { weight: '600' } } } } } });
            }

            const timelineContainer = document.getElementById('timeline-container');
            timelineContainer.innerHTML = `<div class="absolute left-1/2 -translate-x-1/2 h-full w-0.5 bg-[--border-light]"></div>`;
            experienceData.forEach((exp, index) => {
                const isLeft = index % 2 === 0;
                const timelineItem = document.createElement('div');
                timelineItem.className = `timeline-item stagger-animation relative mb-8 flex items-center w-full ${isLeft ? 'justify-start' : 'justify-end'}`;
                timelineItem.innerHTML = `<div class="w-1/2 ${isLeft ? 'pr-8' : 'pl-8'}"><div class="p-6 rounded-lg cursor-pointer card"><p class="text-sm text-blue-600 dark:text-blue-400 font-semibold">${exp.period}</p><h3 class="font-bold text-lg text-gray-900 dark:text-white mt-1">${exp.role}</h3><p class="text-gray-600 dark:text-gray-300">${exp.company} - ${exp.location}</p><div class="timeline-details hidden mt-4 text-sm text-gray-600 dark:text-gray-300 space-y-2"><ul class="list-disc list-inside">${exp.details.map(d => `<li>${d}</li>`).join('')}</ul></div></div></div><div class="timeline-dot absolute left-1/2 -translate-x-1/2 w-4 h-4 bg-blue-500 rounded-full border-4 border-white dark:border-gray-900"></div>`;
                timelineContainer.appendChild(timelineItem);
            });
            document.querySelectorAll('.timeline-card').forEach(card => card.addEventListener('click', () => card.querySelector('.timeline-details').classList.toggle('hidden')));

            const projectsGrid = document.getElementById('projects-grid');
            const projectFilters = document.getElementById('project-filters');
            const allTags = [...new Set(projectsData.flatMap(p => p.tags))];
            projectFilters.innerHTML = `<button class="filter-btn active" data-filter="all">All</button>` + allTags.map(tag => `<button class="filter-btn" data-filter="${tag}">${tag}</button>`).join('');
            
            function renderProjects(filter = 'all') {
                projectsGrid.innerHTML = '';
                const filteredProjects = filter === 'all' ? projectsData : projectsData.filter(p => p.tags.includes(filter));
                filteredProjects.forEach((project, index) => {
                    const projectCard = document.createElement('div');
                    projectCard.className = 'p-6 rounded-lg flex flex-col card stagger-animation';
                    projectCard.style.transitionDelay = `${index * 100}ms`;
                    projectCard.innerHTML = `<h3 class="font-bold text-xl text-gray-900 dark:text-white">${project.title}</h3><p class="text-gray-600 dark:text-gray-300 mt-2 flex-grow">${project.short}</p><div class="mt-4 flex flex-wrap gap-2">${project.tags.map(t => `<span class="text-xs font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/50 dark:text-blue-300 py-1 px-2 rounded-full">${t}</span>`).join('')}</div><button data-project-title="${project.title}" class="learn-more-btn mt-6 self-start text-sm font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition-colors">Learn More →</button>`;
                    projectsGrid.appendChild(projectCard);
                });
                document.querySelectorAll('.learn-more-btn').forEach(button => button.addEventListener('click', (e) => openModal(projectsData.find(p => p.title === e.target.dataset.projectTitle))));
                const projectObserver = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                            projectObserver.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.1 });
                document.querySelectorAll('#projects-grid .stagger-animation').forEach(el => projectObserver.observe(el));
            }
            
            projectFilters.addEventListener('click', e => { if (e.target.classList.contains('filter-btn')) { document.querySelector('.filter-btn.active').classList.remove('active'); e.target.classList.add('active'); renderProjects(e.target.dataset.filter); } });
            
            const certsList = document.getElementById('certifications-list');
            certsList.innerHTML = certificationsData.map(cert => `<li>${cert}</li>`).join('');

            const modal = document.getElementById('project-modal');
            const modalContent = modal.querySelector('.modal-content');
            function openModal(project) {
                modalContent.innerHTML = `<div class="flex justify-between items-start"><h3 class="text-2xl font-bold text-gray-900 dark:text-white mb-4">${project.title}</h3><button id="close-modal-btn" class="text-3xl leading-none font-bold text-gray-400 hover:text-gray-800 dark:hover:text-white transition-colors">&times;</button></div><ul class="list-disc list-inside text-gray-700 dark:text-gray-200 space-y-2 mb-6">${project.details.map(d => `<li>${d}</li>`).join('')}</ul>${project.link ? `<a href="${project.link}" target="_blank" class="inline-block bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors duration-300">View on GitHub</a>` : ''}
                <div class="mt-8 pt-6 border-t border-[--border-light]"><h4 class="font-bold text-lg text-gray-900 dark:text-white mb-2">✨ Ask AI About This Project</h4><div class="flex gap-2"><input type="text" id="ai-project-question" placeholder="e.g., What was the biggest challenge?" class="flex-grow p-2 rounded-md bg-gray-100 dark:bg-gray-700 border border-transparent focus:outline-none focus:ring-2 focus:ring-blue-500"><button id="ai-project-ask-btn" class="bg-purple-600 text-white font-bold p-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center w-12">Ask</button></div><div id="ai-project-response-container" class="mt-4"></div></div>`;
                modal.classList.remove('hidden');
                setTimeout(() => { modal.classList.remove('opacity-0'); modalContent.classList.remove('scale-95'); }, 10);
                document.getElementById('close-modal-btn').addEventListener('click', closeModal);
                document.getElementById('ai-project-ask-btn').addEventListener('click', () => handleProjectQuestion(project));
            }
            function closeModal() { modal.classList.add('opacity-0'); modalContent.classList.add('scale-95'); setTimeout(() => modal.classList.add('hidden'), 300); }
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            document.querySelectorAll('#mobile-menu a').forEach(link => link.addEventListener('click', () => mobileMenu.classList.add('hidden')));

            const sections = document.querySelectorAll('.section');
            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        if (entry.target.id === 'skills' && skillsChart) {
                            skillsChart.update();
                        }
                    }
                });
            }, { threshold: 0.1 });
            sections.forEach(section => sectionObserver.observe(section));
            
            const timelineObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const items = entry.target.querySelectorAll('.stagger-animation');
                        items.forEach((item, index) => {
                            setTimeout(() => {
                                item.style.opacity = '1';
                                item.style.transform = 'translateY(0)';
                            }, index * 150);
                        });
                        timelineObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            timelineObserver.observe(timelineContainer);

            const themeToggle = document.getElementById('theme-toggle');
            const themeToggleMobile = document.getElementById('theme-toggle-mobile');
            const lightIcon = document.getElementById('theme-icon-light');
            const darkIcon = document.getElementById('theme-icon-dark');
            themeToggleMobile.innerHTML = themeToggle.innerHTML;
            
            const applyTheme = (isDark) => { document.documentElement.classList.toggle('dark', isDark); lightIcon.classList.toggle('hidden', isDark); darkIcon.classList.toggle('hidden', !isDark); themeToggleMobile.innerHTML = themeToggle.innerHTML; createChart(isDark); };
            const toggleTheme = () => { const isDark = !document.documentElement.classList.contains('dark'); localStorage.setItem('theme', isDark ? 'dark' : 'light'); applyTheme(isDark); };
            themeToggle.addEventListener('click', toggleTheme);
            themeToggleMobile.addEventListener('click', toggleTheme);
            
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            applyTheme(savedTheme === 'dark' || (savedTheme === null && prefersDark));
            renderProjects();
            
            const contactForm = document.getElementById('contact-form');
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const formMessageContainer = document.getElementById('form-message-container');
                formMessageContainer.innerHTML = `<div class="p-3 rounded-md text-center bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300">Thank you for your message!</div>`;
                contactForm.reset();
                setTimeout(() => {
                    formMessageContainer.innerHTML = '';
                }, 5000);
            });
            
            const style = document.createElement('style');
            style.textContent = `.filter-btn { @apply px-4 py-2 text-sm font-semibold rounded-full border-2 border-transparent transition-colors; } html.light .filter-btn { @apply text-gray-600 bg-gray-100 hover:bg-gray-200; } html.dark .filter-btn { @apply text-gray-300 bg-gray-700 hover:bg-gray-600; } html.light .filter-btn.active { @apply bg-blue-600 text-white; } html.dark .filter-btn.active { @apply bg-blue-500 text-white; }`;
            document.head.appendChild(style);

            async function callGemini(prompt) {
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                const payload = { contents: [{ parts: [{ text: prompt }] }] };
                try {
                    const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                    if (!response.ok) { throw new Error(`API error: ${response.statusText}`); }
                    const data = await response.json();
                    return data.candidates[0].content.parts[0].text;
                } catch (error) {
                    console.error("Gemini API call failed:", error);
                    return "Sorry, I couldn't get a response from the AI. Please check the console for details.";
                }
            }

            const aiCoverLetterBtn = document.getElementById('ai-cover-letter-btn');
            aiCoverLetterBtn.addEventListener('click', async () => {
                const name = document.getElementById('contact-name').value;
                if (!name) { alert('Please enter your name first.'); return; }
                const spinner = document.getElementById('ai-cover-letter-spinner');
                spinner.classList.remove('hidden');
                const prompt = `You are Akshay Choudhary, a skilled full-stack and blockchain developer. A recruiter named ${name} is looking at your portfolio. Write a short, impressive, and professional introductory sentence for a cover letter addressed to ${name}. Highlight your expertise in both web development and blockchain technology.`;
                const result = await callGemini(prompt);
                document.getElementById('contact-message').value = result;
                spinner.classList.add('hidden');
            });

            async function handleProjectQuestion(project) {
                const questionInput = document.getElementById('ai-project-question');
                const question = questionInput.value;
                if (!question) { alert('Please ask a question.'); return; }
                const responseContainer = document.getElementById('ai-project-response-container');
                const askBtn = document.getElementById('ai-project-ask-btn');
                askBtn.innerHTML = `<div class="spinner"></div>`;
                askBtn.disabled = true;

                const projectDetailsText = project.details.join(' ').replace(/<[^>]*>/g, '');
                const prompt = `You are Akshay Choudhary, the developer of the project "${project.title}". A visitor to your portfolio is asking a question.
                Project Details: ${projectDetailsText}.
                Visitor's Question: "${question}"
                Answer the question conversationally and professionally from your perspective as the developer. Be helpful and informative.`;
                
                const result = await callGemini(prompt);
                responseContainer.innerHTML = `<div class="p-4 bg-gray-100 dark:bg-gray-700 rounded-md text-gray-700 dark:text-gray-200">${result}</div>`;
                questionInput.value = '';
                askBtn.innerHTML = 'Ask';
                askBtn.disabled = false;
            }
            
            const spotlight = document.getElementById('spotlight');
            window.addEventListener('mousemove', (e) => {
                spotlight.style.transform = `translate(${e.clientX - spotlight.offsetWidth / 2}px, ${e.clientY - spotlight.offsetHeight / 2}px)`;
            });
            
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mousemove', (e) => {
                    const rect = card.getBoundingClientRect();
                    card.style.setProperty('--glow-x', `${e.clientX - rect.left}px`);
                    card.style.setProperty('--glow-y', `${e.clientY - rect.top}px`);
                });
            });
        });
    </script>
</body>
</html>
